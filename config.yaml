programs:
  # Logger program - bash script
  logger:
    cmd: "/bin/bash /home/zlazrak/taskmaster/scripts/logger.sh"
    numprocs: 1
    umask: 026
    workingdir: /home/kamui/Desktop/taskmaster
    autostart: true
    autorestart: always
    exitcodes: [0]
    startretries: 3
    starttime: 2
    stopsignal: TERM
    stoptime: 5
    stdout: /home/zlazrak/taskmaster/logs/logger.stdout
    stderr: /home/zlazrak/taskmaster/logs/logger.stderr
    env:
      STARTED_BY: kamui
      LOG_INTERVAL: "5"

  # Worker - Python with proper output (FIXED)
  worker:
    cmd: "/bin/bash /home/zlazrak/taskmaster/scripts/worker.sh"
    numprocs: 3
    umask: 022
    workingdir: /home/zlazrak/taskmaster
    autostart: true
    autorestart: never
    exitcodes: [0, 2, 3, 4, 1]
    startretries: 3
    starttime: 3
    stopsignal: INT
    stoptime: 5
    stdout: /home/zlazrak/taskmaster/logs/worker.stdout
    stderr: /home/zlazrak/taskmaster/logs/worker.stderr
    env:
      WORKER_ID: "1"
      ENVIRONMENT: "production"

  # Ping monitor - advanced network checker
  ping_monitor:
    cmd: "/bin/bash /home/zlazrak/taskmaster/scripts/ping_monitor.sh"
    numprocs: 1
    umask: 022
    workingdir: /home/zlazrak/taskmaster
    autostart: true
    autorestart: always
    exitcodes: [0]
    startretries: 3
    starttime: 2
    stopsignal: TERM
    stoptime: 5
    stdout: /home/zlazrak/taskmaster/logs/ping_monitor.stdout
    stderr: /home/zlazrak/taskmaster/logs/ping_monitor.stderr
    env:
      PING_TARGET: "8.8.8.8"
      PING_INTERVAL: "10"

  # Counter - useful one-shot or scheduled runs
  counter:
    cmd: "/bin/bash /home/zlazrak/taskmaster/scripts/counter.sh"
    numprocs: 1
    umask: 022
    workingdir: /home/zlazrak/taskmaster
    autostart: false
    autorestart: never
    exitcodes: [0]
    startretries: 3
    starttime: 1
    stopsignal: TERM
    stoptime: 5
    stdout: /home/zlazrak/taskmaster/logs/counter.stdout
    stderr: /home/zlazrak/taskmaster/logs/counter.stderr
    env:
      COUNT_TO: "100"

  # Simple HTTP server - direct Python execution (1 process only!)
  http_server:
    cmd: "/usr/bin/python3 -u -m http.server 9000"
    numprocs: 1
    umask: 022
    workingdir: /home/zlazrak/taskmaster
    autostart: false
    autorestart: always
    exitcodes: [0]
    startretries: 3
    starttime: 2
    stopsignal: TERM
    stoptime: 5
    stdout: /home/zlazrak/taskmaster/logs/http_server.stdout
    stderr: /home/zlazrak/taskmaster/logs/http_server.stderr
    env:
      PYTHONUNBUFFERED: "1"

  # Test exit codes
  test_exit:
    cmd: "/bin/bash /home/zlazrak/taskmaster/scripts/test_exit.sh"
    numprocs: 1
    umask: 026
    workingdir: /home/kamui/Desktop/taskmaster
    autostart: false
    autorestart: unexpected
    exitcodes: [0, 2]
    startretries: 3
    starttime: 1
    stopsignal: TERM
    stoptime: 5
    stdout: /home/zlazrak/taskmaster/logs/test_exit.stdout
    stderr: /home/zlazrak/taskmaster/logs/test_exit.stderr